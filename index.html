<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Hypester : A JavaScript library to help with common forms of interactivity in the Tumult Hype HTML5 editor." />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Hypester</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/jbroadway/hypester">View on GitHub</a>

          <h1 id="project_title">Hypester</h1>
          <h2 id="project_tagline">A JavaScript library to help with common forms of interactivity in the Tumult Hype HTML5 editor.</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/jbroadway/hypester/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/jbroadway/hypester/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">

<p>A JavaScript library to help with common forms of interactivity in the
<a href="http://tumult.com/hype/">Tumult Hype</a> HTML5 editor.</p>
        <p>
        	<strong>Status: Early Beta</strong><br />
        	<strong>License: <a href="https://github.com/jbroadway/hypester/blob/master/LICENSE">Open Source (MIT)</a></strong>
        </p>

<p>Note: Requires <a href="http://jquery.com">jQuery 1.8+</a></p>

<h2>
<a name="setup" class="anchor" href="#setup"><span class="octicon octicon-link"></span></a>Setup</h2>

<ol>
<li>Include jQuery in your Hype resource library</li>
<li>Include hypester.js in your Hype resource library</li>
<li>Call the appropriate functions below</li>
</ol><h2>
<a name="features" class="anchor" href="#features"><span class="octicon octicon-link"></span></a>Features</h2>

<h3>
<a name="initializing-a-new-scene" class="anchor" href="#initializing-a-new-scene"><span class="octicon octicon-link"></span></a>Initializing a new scene</h3>

<p>To initialize a new scene, create a timeline action on the first frame that calls
this function with your scene settings:</p>

<div class="highlight highlight-javascript"><pre><span class="nx">hypester</span><span class="p">.</span><span class="nx">init</span> <span class="p">({</span>
    <span class="nx">hype</span><span class="o">:</span> <span class="nx">hypeDocument</span><span class="p">,</span>                 <span class="c1">// a copy of the hypeDocument object</span>
    <span class="nx">hidden_elements</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span>                 <span class="c1">// how many hidden elements to find in the scene</span>
    <span class="nx">alert_timeline</span><span class="o">:</span> <span class="s1">'alert-incomplete'</span><span class="p">,</span> <span class="c1">// the timeline of the alert message</span>
    <span class="nx">next_scene</span><span class="o">:</span> <span class="s1">'next'</span><span class="p">,</span>                 <span class="c1">// the next scene to load</span>
    <span class="nx">completed</span><span class="o">:</span> <span class="kc">false</span>                    <span class="c1">// mark the activity not completed</span>
<span class="p">});</span>
</pre></div>

<p>This does several things:</p>

<ol>
<li>If a <code>#scene-name</code> hash is added to the end of a URL, it will jump to that scene immediately.</li>
<li>Initializes the number of hidden elements to find in the scene, for use with <code>hypester.next()</code>.</li>
<li>Initializes the scene history for dynamic "Previous" buttons in branching scenes.</li>
</ol><p>If no hidden elements are present in the scene, the defaults should not cause any
behaviour issues for other scene types. Alternately, you can use the shorter form
of the function call like this:</p>

<div class="highlight highlight-javascript"><pre><span class="nx">hypester</span><span class="p">.</span><span class="nx">init</span> <span class="p">({</span><span class="nx">hype</span><span class="o">:</span> <span class="nx">hypeDocument</span><span class="p">});</span>
</pre></div>

<h3>
<a name="navigating-to-a-specific-scene-from-another-file" class="anchor" href="#navigating-to-a-specific-scene-from-another-file"><span class="octicon octicon-link"></span></a>Navigating to a specific scene from another file</h3>

<p>To send a user to a specific scene within a Hype file, make sure the file you're
navigating to uses the <code>hypester.init()</code> function in the first scene, then link
to it with the scene name in the URL's inner anchor value, like this:</p>

<pre><code>my-hype-activity.html#scene-name
</code></pre>

<h3>
<a name="triggering-the-next-scene" class="anchor" href="#triggering-the-next-scene"><span class="octicon octicon-link"></span></a>Triggering the next scene</h3>

<p>To trigger the next scene, while ensuring all elements were clicked and/or the
activity has been marked completed, attach a callback action to the "Next" button
that calls this function:</p>

<div class="highlight highlight-javascript"><pre><span class="nx">hypester</span><span class="p">.</span><span class="nx">next</span> <span class="p">(</span><span class="nx">hypeDocument</span><span class="p">);</span>
</pre></div>

<h3>
<a name="marking-the-scene-completed" class="anchor" href="#marking-the-scene-completed"><span class="octicon octicon-link"></span></a>Marking the scene completed</h3>

<p>Trigger this when the activity has been completed so <code>hypester.next()</code> knows to
continue to the next scene.</p>

<div class="highlight highlight-javascript"><pre><span class="nx">hypester</span><span class="p">.</span><span class="nx">completed</span> <span class="p">();</span>
</pre></div>

<h3>
<a name="marking-a-hidden-element-as-clicked" class="anchor" href="#marking-a-hidden-element-as-clicked"><span class="octicon octicon-link"></span></a>Marking a hidden element as clicked</h3>

<p>To mark a hidden element as clicked, call this in a callback function on the mouse
click event for each element, numbering them from 0 to 11 (instead of 1 to 12):</p>

<div class="highlight highlight-javascript"><pre><span class="nx">hypester</span><span class="p">.</span><span class="nx">clicked</span> <span class="p">(</span><span class="mi">0</span><span class="p">);</span>
</pre></div>

<h3>
<a name="go-to-the-previous-scene-in-a-branching-scenario" class="anchor" href="#go-to-the-previous-scene-in-a-branching-scenario"><span class="octicon octicon-link"></span></a>Go to the previous scene in a branching scenario</h3>

<p>To go to the previous scene in the history of a branching scenario, attach a
callback action to your "Previous" button that calls this function:</p>

<div class="highlight highlight-javascript"><pre><span class="nx">hypester</span><span class="p">.</span><span class="nx">previous</span> <span class="p">(</span><span class="nx">hypeDocument</span><span class="p">);</span>
</pre></div>

<h3>
<a name="creating-drag-and-drop-activities" class="anchor" href="#creating-drag-and-drop-activities"><span class="octicon octicon-link"></span></a>Creating drag and drop activities</h3>

<p>Use the <code>hypester.drag_handler()</code> and <code>hypester.drag_completed()</code> functions to
create drag and drop activities with multiple dropzones per draggable element,
one or more of which are the correct choice.</p>

<h4>
<a name="step-1-initialize-the-scene" class="anchor" href="#step-1-initialize-the-scene"><span class="octicon octicon-link"></span></a>Step 1. Initialize the scene</h4>

<p>Initialize the scene on the first keyframe of the <code>Main Timeline</code> like this:</p>

<div class="highlight highlight-javascript"><pre><span class="nx">hypester</span><span class="p">.</span><span class="nx">init</span> <span class="p">({</span>
    <span class="nx">hype</span><span class="o">:</span> <span class="nx">hypeDocument</span><span class="p">,</span>
    <span class="nx">element</span><span class="o">:</span> <span class="nx">element</span><span class="p">,</span>
    <span class="nx">event</span><span class="o">:</span> <span class="nx">event</span><span class="p">,</span>
    <span class="nx">draggable</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">elements</span><span class="o">:</span> <span class="mi">4</span><span class="p">,</span>
        <span class="nx">completed_timeline</span><span class="o">:</span> <span class="s1">'complete'</span><span class="p">,</span>
        <span class="nx">dropzones</span><span class="o">:</span> <span class="p">[</span>
            <span class="p">{</span> <span class="nx">id</span><span class="o">:</span> <span class="s1">'drop1'</span> <span class="p">},</span>
            <span class="p">{</span> <span class="nx">id</span><span class="o">:</span> <span class="s1">'drop2'</span> <span class="p">},</span>
            <span class="p">{</span> <span class="nx">id</span><span class="o">:</span> <span class="s1">'drop3'</span> <span class="p">},</span>
            <span class="p">{</span> <span class="nx">id</span><span class="o">:</span> <span class="s1">'drop4'</span> <span class="p">}</span>
        <span class="p">]</span>
    <span class="p">}</span>
<span class="p">});</span>
</pre></div>

<p>Specify the number of draggable elements in the <code>elements</code> setting, and a timeline
that should be run when all of the elements have been dropped into the correct dropzone.
This timeline will be triggered by <code>hypester.drag_completed()</code> only when all of the
elements have been dropped correctly.</p>

<p>Each dropzone has an <code>id</code> setting that should match an element's <code>Unique Element ID</code>
field in the Hype Inspector, which you will need to set manually. A dropzone may also
have <code>bg_off</code> and <code>bg_on</code> settings which are used to toggle the background image of
the element when a draggable element hovers over it. The images should be loaded into
your Hype Resources. For example:</p>

<div class="highlight highlight-javascript"><pre><span class="p">{</span> <span class="nx">id</span><span class="o">:</span> <span class="s1">'drop1'</span><span class="p">,</span> <span class="nx">bg_off</span><span class="o">:</span> <span class="s1">'drop1_off.png'</span><span class="p">,</span> <span class="nx">bg_on</span><span class="o">:</span> <span class="s1">'drop1_on.png'</span> <span class="p">}</span>
</pre></div>

<h4>
<a name="step-2-make-your-elements-draggable" class="anchor" href="#step-2-make-your-elements-draggable"><span class="octicon octicon-link"></span></a>Step 2. Make your elements draggable</h4>

<p>On each draggable element, open the Hype Inspector and add two <code>On Drag</code> actions:</p>

<ol>
<li>
<code>Control Element Position</code> to enable drag and drop</li>
<li>
<code>Run Javascript</code> and create a new function</li>
</ol><p>Call the following in your newly created function:</p>

<div class="highlight highlight-javascript"><pre><span class="nx">hypester</span><span class="p">.</span><span class="nx">drag_handler</span> <span class="p">({</span>
    <span class="nx">hype</span><span class="o">:</span> <span class="nx">hypeDocument</span><span class="p">,</span>
    <span class="nx">element</span><span class="o">:</span> <span class="nx">element</span><span class="p">,</span>
    <span class="nx">event</span><span class="o">:</span> <span class="nx">event</span><span class="p">,</span>
    <span class="nx">correct_answer</span><span class="o">:</span> <span class="s1">'drop2'</span><span class="p">,</span>
    <span class="nx">correct_timeline</span><span class="o">:</span> <span class="s1">'correct'</span><span class="p">,</span>
    <span class="nx">incorrect_timeline</span><span class="o">:</span> <span class="s1">'incorrect'</span><span class="p">,</span>
    <span class="nx">reset_timeline</span><span class="o">:</span> <span class="s1">'reset_drag1'</span>
<span class="p">});</span>
</pre></div>

<p>The <code>correct_answer</code> is the ID of the dropzone or list of IDs of the dropzones
that are considered correct choices. To specify a list, set it to an array, e.g.,
<code>['drop2', 'drop3']</code>.</p>

<p>The <code>correct_timeline</code> is a timeline that is played when the user drops an element
onto one of the correct dropzones.</p>

<p>The <code>incorrect_timeline</code> is a timeline that is played when the user drops an
element onto one of the other dropzones.</p>

<p>The <code>reset_timeline</code> is a timeline that is played when the user drops an element onto
anywhere except one of the correct dropzones to reset its position. At keyframe 0,
this timeline should pin the <code>Origin (Left)</code> and <code>Origin (Top)</code> properties to its
initial location in the scene.</p>

<h4>
<a name="step-3-check-if-the-activity-has-been-completed" class="anchor" href="#step-3-check-if-the-activity-has-been-completed"><span class="octicon octicon-link"></span></a>Step 3. Check if the activity has been completed</h4>

<p>In the last frame of your <code>correct_timeline</code> timeline(s), add a Timeline Action that
runs a new JavaScript function like this:</p>

<p><img src="https://raw.githubusercontent.com/jbroadway/hypester/master/docs/pix/drag_completed_action.png" alt="Timeline Action"></p>

<p>The function should contains the following code:</p>

<div class="highlight highlight-javascript"><pre><span class="nx">hypester</span><span class="p">.</span><span class="nx">drag_completed</span> <span class="p">(</span><span class="nx">hypeDocument</span><span class="p">);</span>
</pre></div>

<p>This will trigger the <code>completed_timeline</code> from <code>hypester.init()</code> only when all of
the draggable elements have been dropped on the correct dropzones.</p>

<h3>
<a name="user-content-injecting-dynamic-text-into-hype-activities" class="anchor" href="#injecting-dynamic-text-into-hype-activities" aria-hidden="true"><span class="octicon octicon-link"></span></a>Injecting dynamic text into Hype activities</h3>

<p>Turn your Hype document into a template with dynamic text, image sources, and even
form fields.</p>

<h4>
<a name="user-content-step-1-add-your-template-tags" class="anchor" href="#step-1-add-your-template-tags" aria-hidden="true"><span class="octicon octicon-link"></span></a>Step 1. Add your template tags</h4>

<p>The text for a given element should contain a tag name of your choice in the form:</p>

<pre><code>{tag_name}
</code></pre>

<p>This can also be included in image source fields:</p>

<pre><code>&lt;img src="{photo}" /&gt;
</code></pre>

<p>And in form input values:</p>

<pre><code>&lt;input type="text" name="input" value="{input}" /&gt;
</code></pre>

<h4>
<a name="user-content-step-2-create-the-hypester_labels-object" class="anchor" href="#step-2-create-the-hypester_labels-object" aria-hidden="true"><span class="octicon octicon-link"></span></a>Step 2. Create the <code>hypester_labels</code> object</h4>

<p>Create a JavaScript file named <code>hypester_labels.js</code> that contains the following:</p>

<pre><code>var hypester_labels = {
    tag_name: 'Hell World',
    photo: '/files/photo1.png',
    input: 'Placeholder text...'
};
</code></pre>

<p>Load this file into your Hype resource library.</p>

<h4>
<a name="user-content-step-3-call-hypesterinit" class="anchor" href="#step-3-call-hypesterinit" aria-hidden="true"><span class="octicon octicon-link"></span></a>Step 3. Call <code>hypester.init()</code>
</h4>

<p>In the first keyframe of the main timeline of your first scene, add a Timeline Action
that calls this:</p>

<pre><code>hypester.init({hype: hypeDocument});
</code></pre>

<p>If your <code>hypester_labels.js</code> file has been included, previewing in the browser should
replace the tags for you automatically.</p>

<h4>
<a name="user-content-step-4-interacting-with-the-hype-document" class="anchor" href="#step-4-interacting-with-the-hype-document" aria-hidden="true"><span class="octicon octicon-link"></span></a>Step 4. Interacting with the Hype document</h4>

<p>If you want to update a value in <code>hypester_labels</code>, use the following:</p>

<pre><code>hypester.update_element ('tag_name', 'New value');
</code></pre>

<p>This will update the value and propagate the change throughout your Hype document.
If you do update the <code>hypester_labels</code> properties directly through some other means,
you can propagate the changes across the whole file via:</p>

<pre><code>hypester.update_elements ();
</code></pre>

<p>You can also create instances of the <code>HypesterElement</code> class that represent elements
that should always print the latest value of <code>hypester_labels.some_property</code> via:</p>

<pre><code>var alert_msg = new HypesterElement ('alert_msg');
</code></pre>

<p>For example:</p>

<pre><code>var hypester_labels = {
    alert_msg: 'The sky is falling'
};

var alert_msg = new HypesterElement ('alert_msg');
alert (alert_msg); // The sky is falling

hypester.update_element ('alert_msg', 'Everything will be okay';
alert (alert_msg); // Everything will be okay

hypester_labels.alert_msg = 'The sky is falling again';
alert (alert_msg); // The sky is falling again
</code></pre>

<p>A HypesterElement object can be used in place of any JavaScript string to keep its
value updated with the latest <code>hypester_labels</code> value every time it's referenced.</p>

      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Hypester is brought to you by <a href="https://www.campfireunion.com">The Campfire Union</a></p>
      </footer>
    </div>

              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-50509220-3");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>


  </body>
</html>
